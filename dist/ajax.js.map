{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c04f3fb38a0961068c50","webpack:///./src/ajax.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/utils.js","webpack:///./src/xhr_factory.js","webpack:///./src/wrapper.js"],"names":["DEFAULT_ARGS","method","type","data","headers","onStart","onSuccess","onFinish","onError","CONTENT_TYPES","setHeaders","xhr","Object","keys","forEach","key","setRequestHeader","validateArgs","args","url","Error","indexOf","newXhrObject","new","open","timeout","request","onreadystatechange","readyState","status","toString","match","send","xDomainRequest","onload","onerror","onprogress","window","setTimeout","merge","a","b","out","noop","xdomain","XMLHttpRequest","XDomainRequest","ActiveXObject","console","error","webpackUniversalModuleDefinition","root","factory","exports","module","define"],"mappings":"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","file":"ajax.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ajax\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ajax\"] = factory();\n\telse\n\t\troot[\"ajax\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c04f3fb38a0961068c50","/**\n * Ajax.js - cross browser xhr wrapper\n *\n * Supports ie >= 9 and modern browsers\n *\n * @license - MIT\n * @author - NathanG https://github.com/nathamanath/ajax.js\n */\n\n // TODO: run in browsers\n\nimport XhrFactory from './xhr_factory'\nimport { noop, merge } from './utils'\n\n/**\n * default params for requests\n */\nconst DEFAULT_ARGS = {\n  method: 'GET',\n  type: 'JSON',\n  data: {},\n  headers: {},\n  onStart: noop,\n  onSuccess: noop,\n  onFinish: noop,\n  onError: noop\n}\n\n/**\n * recognised content types\n */\nconst CONTENT_TYPES = {\n  'URLENCODED': 'application/x-www-form-urlencoded',\n  'JSON': 'application/json',\n  'XML': 'text/xml'\n}\n\n/**\n * set headers on xhr instance from object. object keys are header name, values\n * are header values\n *\n * @param {object} xhr - any form of xhr instance provided by XhrFactory\n * @param {object} headers - key value pairs of request headers\n */\nconst setHeaders = function(xhr, headers) {\n  Object.keys(headers).forEach(function(key) {\n    xhr.setRequestHeader(key, headers[key])\n  })\n}\n\n/**\n * validate args object\n *\n * @param {object} args - args object from request or xDomianRequest\n */\nconst validateArgs = function(args) {\n  // URL is required\n  if(!args.url) throw new Error('Ajax: args.url required')\n\n  // content type must be recognised\n  if(Object.keys(CONTENT_TYPES).indexOf(args.type) === -1){\n    throw new Error('Ajax: args.type not recognised')\n  }\n}\n\n/**\n * @returns new mostly configured xhr instance. request type specific config is\n * added in request method\n */\nconst newXhrObject = function(args) {\n  let xhr = XhrFactory.new()\n  let headers = args.headers\n\n  headers['Content-Type'] = CONTENT_TYPES[args.type]\n\n  xhr.open(args.method, args.url, true)\n\n  setHeaders(xhr, headers)\n\n  xhr.timeout = 0\n\n  return xhr\n}\n\nexport default {\n  /**\n   * Makes a local ajax request.\n   *\n   * @static\n   * @param {string} args.url - Request url\n   * @param {string} [args.method=GET] - Request method. Should be upper case string\n   * @param {string} [args.type=JSON] - Request type. Must be `URLENCODED`, `XML`, or `JSON`.\n   * @param {object} [args.data] - Request data. passed directly to xhr.send\n   * @param {object} [args.headers] - Request headers as key value pairs.\n   * @param {function} [args.onStart] - Callback fired at start of request.\n   * @param {function} [args.onSuccess] - Callback fired on successful completion of request (2xx response).\n   * @param {function} [args.onError] - Callback fired if request response is not in 200 range.\n   * @param {function} [args.onFinish] - Callback fired after request successful or not.\n   */\n  request: function(args) {\n\n    args = merge(args, DEFAULT_ARGS)\n    validateArgs(args)\n\n    let xhr = newXhrObject(args)\n\n    xhr.onreadystatechange = function(){\n      if(xhr.readyState === 4) {\n        // Successful\n        if(xhr.status.toString().match(/2[0-9]{1,2}/)) {\n          args.onSuccess(xhr)\n        } else {\n          args.onError(xhr)\n        }\n\n        args.onFinish(xhr)\n      }\n    }\n\n    // Fires onStart consistantly pre request\n    args.onStart(xhr)\n\n    xhr.send(args.data)\n  },\n\n  /**\n   * Makes a cross domain ajax request\n   * ** Note - no headers for XDomainRequest ie < 10  :( **\n   * @param {object} args - see Ajax.request for params\n   */\n  xDomainRequest: function(args) {\n\n    args = merge(args, DEFAULT_ARGS)\n    validateArgs(args)\n\n    let xhr = newXhrObject(args)\n\n    xhr.onload = function() {\n      args.onSuccess(xhr)\n      args.onFinish(xhr)\n    };\n\n    xhr.onerror = function() {\n      args.onError(xhr)\n      args.onFinish(xhr)\n    };\n\n    // ie9 fix - onprogress must be set\n    xhr.onprogress = noop\n\n    // Fires onstart consistantly pre request\n    args.onStart(xhr)\n\n    // fix for ie9 xdomain. Thanks Jolyon\n    window.setTimeout(function() {\n      xhr.send(args.data)\n    }, 0)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ajax.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 1\n// module chunks = 0","/**\n * Utility functions\n */\n\n/**\n * Merge object a into object b\n *\n * @param {object} a\n * @param {object} b\n * @returns {object} - a merged into b\n */\nexport const merge = function(a, b) {\n  let out = b\n\n  Object.keys(a).forEach(function(key) {\n    out[key] = a[key]\n  })\n\n  return out\n}\n\n/**\n * no operation\n */\nexport const noop = function() { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","/**\n * xhr request object factory\n */\nexport default {\n\n  /**\n   * new xhr object fit for browser and request type\n   *\n   * @param {boolean} [xdomain=false] - is request cross domain?\n   * @returns {object} xhr instance\n   */\n  new: function(xdomain=false) {\n    var xhr = new XMLHttpRequest()\n\n    // ie >= 10 and browsers\n    if ('withCredentials' in xhr) {\n      return xhr\n    }\n\n    // ie9 xDomain\n    if(xdomain) {\n      return new XDomainRequest()\n    } else {\n      // ie9 local\n      return new ActiveXObject('Msxml2.XMLHTTP')\n    }\n\n    // ie <= 8\n    console.error('Ajax.js - Browser not supported.')\n    \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/xhr_factory.js","/**\n * Used when compiling es5 version with webpack\n * Provides module definition for ES6(ES2015) module system, commonjs or amd if\n * present. Otherwise makes Ajax a global object.\n */\n\nimport Ajax from './ajax'\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\n  if(typeof exports === 'object' && typeof module === 'object') {\n    module.exports = factory()\n  } else if(typeof define === 'function' && define.amd) {\n    define(\"Ajax\", [], factory)\n  } else if(typeof exports === 'object') {\n    exports[\"Ajax\"] = factory()\n  } else {\n    root[\"Ajax\"] = factory()\n  }\n\n})(this, function() { return Ajax })\n\n\n\n// WEBPACK FOOTER //\n// ./src/wrapper.js"],"sourceRoot":""}